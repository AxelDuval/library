{% extends 'base.html.twig' %}

{% block title %}
	Détail utilisateur
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
	<link rel="stylesheet" href="{{ asset('../public/CSS/main.css')}}">
	<link rel="stylesheet" href="{{ asset('../public/CSS/adduser.css')}}">
{% endblock %}

{% block main %}
	<main class="col-10 p-0 m-0 ">
		<section class="px-5 book-list">
			<div class="container pt-5">
				<h3>Détails utilisateur :</h3>

				<li>{{ user.getEmail() }}</li>

				<li>{{ user.getFirstName() }}</li>

				<li>{{ user.getLastName() }}</li>

				<li>{{ user.getPhoneNumber() }}</li>

				<li>{{ user.getAddress() }}</li><br>

				<h3>Livres empruntés :</h3>
				<ul>
					{% for history in user.getUserHistory() %}
						{% for book in history.getBook() %}

						<li>{{ book.getTitle() }}</li>
						{% endfor %}
						{% if history.getBook is not null %}
							<li>{{history.getBook.getTitle()}} Date d'emprunt : {{history.getBook.getLoanDate|date("d/m/Y")}} Date de rendu : {{history.getBook.getDueDate|date("d/m/Y")}}</li>
						{% endif %}
						{# <td>{{history.getBook.getAuthor()}}</td> #}
					{% endfor %}
				</ul>
				<a href="{{path('user_edit',{id})}}" class="btn btn-red">
					Modifier l'utilisateur
				</a>
			</div>
		</section>
		{% include 'footer.php' %}
	</main>
{% endblock %}